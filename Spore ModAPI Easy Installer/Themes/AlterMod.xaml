<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
            xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
            xmlns:local="clr-namespace:Spore_ModAPI_Easy_Installer"
            xmlns:mod="clr-namespace:ModAPI.Common.UI;assembly=ModAPI.Common"
            xmlns:win="clr-namespace:ModAPI.Common.UI.Windows;assembly=ModAPI.Common"
            xmlns:sys="clr-namespace:System;assembly=mscorlib">
    <ResourceDictionary.MergedDictionaries>
        <ResourceDictionary Source="pack://application:,,,/ModAPI.Common;component/UI/Themes/AlterMod.xaml" />
        <ResourceDictionary Source="pack://application:,,,/ModAPI.Common;component/UI/Themes/Colors/AlterModBaseLight.xaml"/>
        <ResourceDictionary Source="pack://application:,,,/ModAPI.Common;component/UI/Themes/Colors/AlterModBlue.xaml"/>
    </ResourceDictionary.MergedDictionaries>

    <Style x:Key="{x:Type mod:LoadingPanel}" TargetType="{x:Type mod:LoadingPanel}">
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type mod:LoadingPanel}">
                    <Border x:Name="SplashBorder" BorderBrush="#FF555555" Margin="-1" BorderThickness="1" CornerRadius="3">
                        <Border BorderBrush="#FF9B9B9B" BorderThickness="1" CornerRadius="2">
                            <Grid>
                                <Border x:Name="ActiveSplashBackground">
                                    <Border.Background>
                                        <LinearGradientBrush StartPoint="0,0" EndPoint="0,1">
                                            <LinearGradientBrush.GradientStops>
                                                <GradientStop Offset="0" Color="#FF575757"/>
                                                <GradientStop Offset="1" Color="#FF454545"/>
                                            </LinearGradientBrush.GradientStops>
                                        </LinearGradientBrush>
                                    </Border.Background>
                                </Border>
                                <Border x:Name="InactiveSplashBackground" Visibility="Collapsed">
                                    <Border.Background>
                                        <LinearGradientBrush StartPoint="0,0" EndPoint="0,1">
                                            <LinearGradientBrush.GradientStops>
                                                <GradientStop Offset="0" Color="#FF7B7B7B"/>
                                                <GradientStop Offset="1" Color="#FF6B6B6B"/>
                                            </LinearGradientBrush.GradientStops>
                                        </LinearGradientBrush>
                                    </Border.Background>
                                </Border>
                                <TextBlock Foreground="White" HorizontalAlignment="Center" TextAlignment="Center" VerticalAlignment="Center" FontSize="18" Margin="0,0,0,20" Text="{TemplateBinding Content}">
                                    <TextBlock.Style>
                                        <Style TargetType="{x:Type TextBlock}">
                                            <Style.Triggers>
                                                <Trigger Property="IsVisible" Value="True">
                                                    <Trigger.EnterActions>
                                                        <BeginStoryboard>
                                                            <Storyboard>
                                                                <DoubleAnimation Storyboard.TargetProperty="Opacity" From="1" To="0.5" Duration="0:0:0.5" AutoReverse="True" RepeatBehavior="{x:Static RepeatBehavior.Forever}"/>
                                                            </Storyboard>
                                                        </BeginStoryboard>
                                                    </Trigger.EnterActions>
                                                </Trigger>
                                            </Style.Triggers>
                                        </Style>
                                    </TextBlock.Style>
                                </TextBlock>
                            </Grid>
                        </Border>
                    </Border>
                    <ControlTemplate.Triggers>
                        <DataTrigger Binding="{Binding Path=IsActive, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType={x:Type Window}}, FallbackValue=True}" Value="False">
                            <Setter TargetName="ActiveSplashBackground" Property="Visibility" Value="Collapsed"/>
                            <Setter TargetName="InactiveSplashBackground" Property="Visibility" Value="Visible"/>
                        </DataTrigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>
</ResourceDictionary>